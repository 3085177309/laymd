<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>MD编辑器 - layui</title>

<link rel="stylesheet" href="layui/css/layui.css">
<link rel="stylesheet" href="laymd/laymd.css">

<style>
body{padding: 10px;}
</style>
</head>
<body>

<div id="demo"></div>

<div id="preview" style="border: 1px solid #ccc;margin: 10px 0;padding: 5px;"></div>

<button class="layui-btn" id="test">测试撤销</button>


<script src="layui/layui.js"></script>
<script src="laymd/Parser.js"></script>
<script>
layui.config({base: '/laymd/'}).use(['laymd', 'layer'], function(){
  var laymd = layui.laymd,
      $ = layui.$,
      layer = layui.layer;

  var parser = new HyperDown;
  
  var md = laymd.init('demo', {
      change: function () {
          $('#preview').html(parser.makeHtml(this.getText()));
      }
  });

  $('#test').click(function () {
      md.history.undo();
  });
  
});
</script>
</body>
</html>